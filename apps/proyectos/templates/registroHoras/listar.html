{%  extends 'main.html' %}
{% block content %}

<br>

<div class="row">
	<div class="col d-flex justify-content-between">
		<h5>Registro de horas:</h5>
		<a class="btn btn-primary" id="crear-registro" href="{% url 'proyectos:registrohoras-crear'%}">Registrar Horas</a>	
	</div>
</div>

<hr>
<div class="row">
	<div class="col">
		<div class="card card-body">
			<h5>Filtros:</h5>
			<form method="GET">
				{{filtro.form}}

		    <button class="btn btn-primary" type="submit">Buscar</button>
			
		  </form>

		</div>
	</div>
	
</div>
<br>

<div class="row-md-15">
	<div class="col">
		<h5>Horas cargadas:</h5>	
		<table class="table table-sm">
			<tr>
				<th></th>
				<th>Empleado</th>
				<th>Contrato</th>
				<th>Nombre</th>
				<th>Detalle</th>
				<th>Fecha</th>
				<th>Hora Inicio</th>
				<th>Hora Fin</th>
				<th>Horas trabajadas</th>
				<th>Accion</th>
			</tr>

			{% for registro in registros %}
			<tr>
				<td>{{registro.id}}</td>
				<td>{{registro.empleado.usuario.username}}</td>
				<td>{{registro.contrato.nombre}}</td>
				<td>{{registro.nombre}}</td>
				<td>{{registro.detalle}}</td>
				<td>{{registro.fecha}}</td>
				<td>{{registro.hora_inicio}}</td>
				<td>{{registro.hora_fin}}</td>
				<td>{{registro.horas_trabajadas}}</td>
				<td><a class="btn btn-sm btn-info" href="{% url 'proyectos:registrohoras-modificar'  registro.id%}">Actualizar</a></td>
				<td><a class="btn btn-sm btn-info" href="{% url 'proyectos:registrohoras-borrar'  registro.id%}">Borrar</a></td>
			</tr>
			{% endfor %}

		</table>
	</div>
</div>

{% endblock %}

